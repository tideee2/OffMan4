<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start"> <ion-back-button defaultHref="main"></ion-back-button> </ion-buttons>
    <ion-title>Calendar</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content padding>
  <div class="calendar-buttons">
    <ion-icon class="arrows" name="md-arrow-dropleft" color="orange" (click)="prevMonth()"></ion-icon>
    <span class="month-name">{{monthName}} {{year}}</span>
    <ion-icon class="arrows" name="md-arrow-dropright" color="orange" (click)="nextMonth()"></ion-icon>
  </div>
  <ng-template #template let-view="view" let-row="row" let-col="col">
    {{view.dates[row*7+col].label}}
  </ng-template>
  <calendar
            [monthviewDisplayEventTemplate]="template"
            [eventSource]="eventSource"
            [calendarMode]="calendar.mode"
            [currentDate]="calendar.currentDate"
            (onCurrentDateChanged)="onCurrentDateChanged($event)"
            (onEventSelected)="onEventSelected($event)"
            (onTitleChanged)="onViewTitleChanged($event)"
            (onTimeSelected)="onTimeSelected($event)"
            startingDayMonth="1"
            step="30">
  </calendar>
  <ion-card no-padding no-margin class="balance">
    <ion-card-content>
      <span>Total</span>
      <span>{{monthSum}}</span>
    </ion-card-content>
  </ion-card>
  <ion-card no-padding no-margin class="purchase-list">
    <ion-card-header>
      List of purchases
    </ion-card-header>
    <ion-card-content no-padding no-margin>
      <ion-row *ngFor="let trans of transactionsByMonth">
        <ion-col size="4" class="col-left" [style.border-left-color]="listOfColors[trans.category]">
          {{trans.cost}}
        </ion-col>
        <ion-col size="4">
          {{trans.description}}
        </ion-col>
        <ion-col size="4">
          {{trans.date | date}}
        </ion-col>
      </ion-row>
    </ion-card-content>
  </ion-card>
</ion-content>
